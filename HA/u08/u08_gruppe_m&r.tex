\documentclass[a4paper,10pt]{article}
\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}
\usepackage{amsmath,amsfonts,amssymb,amscd,amsthm,xspace}
\usepackage[ngerman]{babel}
\usepackage{listingsutf8}
\usepackage{color}
\usepackage{geometry}
\usepackage{graphicx}
\usepackage{multicol}
\usepackage{pst-tree}
\usepackage{algorithmic}
\usepackage{cancel}

\geometry{a4paper, left=2cm,right=2cm,top=2cm,bottom=2cm}

\newcommand{\Authors}{Martin Lenders (Mi. 14-16), Ralf M\"uller-Zimmermann (Di. 14-16)}
\title{H\"ohere Algorithmik - 8. \"Ubungsblatt}
\author{\Authors}
\date{\today}

\newcommand{\changefont}[3]{\fontfamily{#1} \fontseries{#2} \fontshape{#3} \selectfont}

\renewcommand{\thesection}{Aufgabe \arabic{section}:}
\renewcommand{\labelenumi}{(\theenumi)}
\renewcommand{\theenumi}{\alph{enumi}}
\renewcommand{\labelenumii}{(\theenumii)}
\renewcommand{\theenumii}{\roman{enumii}}

\definecolor{lgray}{gray}{0.95}
\definecolor{purple}{rgb}{0.498,0,0.3333}
\definecolor{identifier}{rgb}{0,0,0.1}
\definecolor{string}{rgb}{0.192,0,1}
\definecolor{comment}{rgb}{0.25,0.5,0.37}

\pagestyle{myheadings}
\oddsidemargin\oddsidemargin
\markright{\Authors}

\lstset{
	tabsize=4, 
	basicstyle=\footnotesize\fontfamily{pcr}\fontseries{m}\fontshape{n}\selectfont,
	breaklines=true,
	numbers=left,
	emphstyle=\textit, 
	language=Java,
	keywordstyle=\color{purple}\textbf, 
	identifierstyle=\color{identifier},
	stringstyle=\color{string},
	showstringspaces=false,
    escapeinside={((*}{*))},
	commentstyle=\color{comment},
	extendedchars=true,
	inputencoding=utf8/latin1
}
\psset{nodesep=2pt,levelsep=2em,treesep=2em}

\begin{document}

\maketitle

\section{Das Offline-Minimum-Problem}
\begin{enumerate}
\item   
\item   
\item   
\end{enumerate}

\section{Amortisierte Analyse}
\begin{enumerate}
\item   Betrachten wir den Verlauf des Zählwerkes, stellen wir fest, dass die 1er-Stelle sich bei jedem Zählschritt sich 
        ändert, die 2er-Stelle bei jedem zweiten, die 4er-Stelle bei jedem vierten etc. 
        \paragraph*{Beweis} Bezeichnen wir die Schritte der Inkrementierung jeweils mit der Zahl im Ergebnis (Schritt 1: $0 \to 1$, Schritt 2: $1 \to 10$, Schritt 3: $10 \to 11$, ...), so ist die Trivialität der Behauptung ersichtlich, da ein Umschalten jedesmal stattfindet, wenn das Ergebnis jeweils durch die Wertigkeit der Stelle teilbar ist. Damit ist auch der Schritt durch die Wertigkeit der Stelle teilbar \hfill $\square$
        
        Für $\left|\{0,1\}\right|^{k-1} \leq n < \left|\{0,1\}\right|^{k}$ ($n$ habe also $k \geq 1$ Stellen) ergibt sich als Gesamtstromkosten also
        \[\sum\limits_{i=0}^{k} \left\lfloor\frac{n}{2^i}\right\rfloor\]
        Die amortisierten Kosten pro Zählvorgang ergibt sich aus dem Durchschnitt für jede Einzeloperation unter Betrachtung der Gesamtkosten.
        \begin{align*}
         \sum\limits_{i=0}^{k} \left\lfloor\frac{n}{2^i}\right\rfloor &\leq \sum\limits_{i=0}^{k} \frac{n}{2^i} \\
                                                                      &\leq \sum\limits_{i=0}^{\infty} \frac{n}{2^i} \\
                                                                      &= n \cdot \sum\limits_{i=0}^{\infty} \frac{1}{2^i} \\
                                                                      &= 2n
        \end{align*}
        Der Durchschnitt und die amortisierten Kosten sind damit also $\frac{2n}{n} = 2 = O(1)$.
\item   
\end{enumerate}

\section{Wahrscheinlichkeitsrechnung und Hashing}
\begin{enumerate}
\item   Die Wahrscheinlichkeit, dass der $(k+1)$-te der insgesamt $n$ Teilnehmer sein eigenes Paket zieht ist
        \[
            \frac{1}{n-k} \prod\limits_{i=0}^{k-1} \frac{n-i-1}{n-i} = \frac{1-\frac{m}{n}}{n-m} = \frac{1}{n}
        \]
        Damit ist die erwartete Anzahl an Teilnehmern, die ihr eigenes Geschenk ziehen
        \begin{align*}
            E[X] &= \sum\limits_{i = 1}^{n} X_i p_i = \sum\limits_{i = 1}^{n} \frac{1}{n} = 1
        \end{align*}
        Mit Zufallsvariable $X = \{X_i = 1\ |\ i \in \{1, ..., n\}\}$ als Anzahl der gezogenen Pakete jedes Teilnehmers.
\item   Wir wollen die Schlüsselmenge $K$ auf $N$ Einträge verteilen, wobei $|K| \leq (n-1)N + 1 > N$. 
        Nach dem \emph{Verschärften Schubfachprinzip} gibt es also mindestens einen Eintrag, in den $|S| > \frac{|K| - 1}{N}$ Schlüssel aus der Menge $S$ gehasht werden.
        \begin{align*}
            \frac{|K| - 1}{N} &\geq \frac{(n-1)N+1-1}{N} = \frac{(n-1)\cancel{N}}{\cancel{N}} \\
        \end{align*}
        Es also mindestens einen Eintrag, in den $|S| > (n-1) \Leftrightarrow |S| \geq n$ Schlüssel gehasht werden. Für die worst-case-Laufzeit bedeutet das, dass alle Schlüssel in diesem Eintrag durchsucht werden müssen, was sie auf $O(|S|)$ festlegt.
\end{enumerate}
\end{document}
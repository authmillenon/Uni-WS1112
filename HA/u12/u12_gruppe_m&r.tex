\documentclass[a4paper,10pt]{article}
\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}
\usepackage{amsmath,amsfonts,amssymb,amscd,amsthm,xspace}
\usepackage[ngerman]{babel}
\usepackage{listingsutf8}
\usepackage{color}
\usepackage{geometry}
\usepackage{graphicx}
\usepackage{multicol}
\usepackage{pstricks,pst-node,pstricks-add}
\usepackage{algorithmic}
\usepackage{cancel}

\geometry{a4paper, left=2cm,right=2cm,top=2cm,bottom=2cm}

\newcommand{\Authors}{Martin Lenders (Di. 14-16), Ralf M\"uller-Zimmermann (Di. 14-16)}
\title{H\"ohere Algorithmik - 12. \"Ubungsblatt}
\author{\Authors}
\date{\today}

\newcommand{\changefont}[3]{\fontfamily{#1} \fontseries{#2} \fontshape{#3} \selectfont}

\renewcommand{\thesection}{Aufgabe \arabic{section}:}
\renewcommand{\labelenumi}{(\theenumi)}
\renewcommand{\theenumi}{\alph{enumi}}
\renewcommand{\labelenumii}{(\theenumii)}
\renewcommand{\theenumii}{\roman{enumii}}

\definecolor{lgray}{gray}{0.95}
\definecolor{purple}{rgb}{0.498,0,0.3333}
\definecolor{identifier}{rgb}{0,0,0.1}
\definecolor{string}{rgb}{0.192,0,1}
\definecolor{comment}{rgb}{0.25,0.5,0.37}

\pagestyle{myheadings}
\oddsidemargin\oddsidemargin
\markright{\Authors}

\lstset{
	tabsize=4, 
	basicstyle=\footnotesize\fontfamily{pcr}\fontseries{m}\fontshape{n}\selectfont,
	breaklines=true,
	numbers=left,
	emphstyle=\textit, 
	language=Java,
	keywordstyle=\color{purple}\textbf, 
	identifierstyle=\color{identifier},
	stringstyle=\color{string},
	showstringspaces=false,
	escapeinside={((*}{*))},
	commentstyle=\color{comment},
	extendedchars=true,
	inputencoding=utf8/latin1
}

\begin{document}

\maketitle

\section{Netzwerkfluss}
\psset{mnode=circle,rowsep=1cm,arrows=->}
\begin{center}
\begin{psmatrix}[]
              & [name=a] $a$ & [name=d] $d$ \\
 [name=s] $s$ & [name=b] $b$ & [name=e] $e$ & [name=g] $g$ \\
              & [name=c] $c$ & [name=f] $f$ & [name=t] $t$
\end{psmatrix}
\ncbox[linestyle=none,fillstyle=solid,fillcolor=black,linearc=12pt,opacity=0.3]{s}{c}
\ncbox[linestyle=none,fillstyle=solid,fillcolor=black,linearc=12pt,opacity=0.3]{c}{f}
\ncbox[linestyle=none,fillstyle=solid,fillcolor=black,linearc=12pt,opacity=0.3]{f}{t}
\ncline{s}{a}\naput{6}
\ncline{s}{b}\naput{1}
\ncline{s}{c}\naput{10}
\ncline{a}{d}\naput{4}
\ncline{a}{e}\naput{1}
\ncline{b}{e}\naput{20}
\ncline{c}{f}\naput{5}
\ncline{d}{e}\naput{2}
\ncline{d}{g}\naput{5}
\ncline{e}{f}\naput{6}
\ncline{e}{g}\naput{10}
\ncline{f}{t}\naput{4}
\ncline{g}{t}\naput{12}
\hspace{1cm}$s \xrightarrow{10} c \xrightarrow{5} f \xrightarrow{4} t; \min: 4$
\end{center}
\begin{center}
\begin{psmatrix}[]
              & [name=a] $a$ & [name=d] $d$ \\
 [name=s] $s$ & [name=b] $b$ & [name=e] $e$ & [name=g] $g$ \\
              & [name=c] $c$ & [name=f] $f$ & [name=t] $t$
\end{psmatrix}
\ncbox[linestyle=none,fillstyle=solid,fillcolor=black,linearc=12pt,opacity=0.3]{s}{a}
\ncbox[linestyle=none,fillstyle=solid,fillcolor=black,linearc=12pt,opacity=0.3]{a}{d}
\ncbox[linestyle=none,fillstyle=solid,fillcolor=black,linearc=12pt,opacity=0.3]{d}{g}
\ncbox[linestyle=none,fillstyle=solid,fillcolor=black,linearc=12pt,opacity=0.3]{g}{t}
\ncline{s}{a}\naput{6}
\ncline{s}{b}\naput{1}
 \ncarc{s}{c}\naput{6}
\ncline{a}{d}\naput{4}
\ncline{a}{e}\naput{1}
\ncline{b}{e}\naput{20}
 \ncarc{c}{s}\naput{4}
 \ncarc{c}{f}\naput{1}
\ncline{d}{e}\naput{2}
\ncline{d}{g}\naput{5}
\ncline{e}{f}\naput{6}
\ncline{e}{g}\naput{10}
 \ncarc{f}{c}\naput{4}
\ncline{g}{t}\naput{12}
\ncline{t}{f}\naput{4}
\hspace{1cm}$s \xrightarrow{6} a \xrightarrow{4} d \xrightarrow{5} g \xrightarrow{12} t; \min: 4$
\end{center}
\begin{center}
\begin{psmatrix}[]
              & [name=a] $a$ & [name=d] $d$ \\
 [name=s] $s$ & [name=b] $b$ & [name=e] $e$ & [name=g] $g$ \\
              & [name=c] $c$ & [name=f] $f$ & [name=t] $t$
\end{psmatrix}
\ncbox[linestyle=none,fillstyle=solid,fillcolor=black,linearc=12pt,opacity=0.3]{s}{a}
\ncbox[linestyle=none,fillstyle=solid,fillcolor=black,linearc=12pt,opacity=0.3]{a}{e}
\ncbox[linestyle=none,fillstyle=solid,fillcolor=black,linearc=12pt,opacity=0.3]{e}{g}
\ncbox[linestyle=none,fillstyle=solid,fillcolor=black,linearc=12pt,opacity=0.3]{g}{t}
 \ncarc{s}{a}\naput{2}
\ncline{s}{b}\naput{1}
 \ncarc{s}{c}\naput{6}
 \ncarc{a}{s}\naput{4}
\ncline{a}{e}\naput{1}
\ncline{b}{e}\naput{20}
 \ncarc{c}{s}\naput{4}
 \ncarc{c}{f}\naput{1}
\ncline{d}{a}\nbput{4}
\ncline{d}{e}\naput{2}
 \ncarc{d}{g}\naput{1}
\ncline{e}{f}\naput{6}
\ncline{e}{g}\nbput{10}
 \ncarc{f}{c}\naput{4}
 \ncarc{g}{d}\naput{4}
 \ncarc{g}{t}\naput{8}
\ncline{t}{f}\naput{4}
\ncarc{t}{g}\naput{4}
\hspace{1cm}$s \xrightarrow{2} a \xrightarrow{1} e \xrightarrow{10} g \xrightarrow{8} t; \min: 1$
\end{center}
\begin{center}
\begin{psmatrix}[]
              & [name=a] $a$ & [name=d] $d$ \\
 [name=s] $s$ & [name=b] $b$ & [name=e] $e$ & [name=g] $g$ \\
              & [name=c] $c$ & [name=f] $f$ & [name=t] $t$
\end{psmatrix}
\ncbox[linestyle=none,fillstyle=solid,fillcolor=black,linearc=12pt,opacity=0.3]{s}{b}
\ncbox[linestyle=none,fillstyle=solid,fillcolor=black,linearc=12pt,opacity=0.3]{b}{e}
\ncbox[linestyle=none,fillstyle=solid,fillcolor=black,linearc=12pt,opacity=0.3]{e}{g}
\ncbox[linestyle=none,fillstyle=solid,fillcolor=black,linearc=12pt,opacity=0.3]{g}{t}
 \ncarc{s}{a}\naput{1}
\ncline{s}{b}\naput{1}
 \ncarc{s}{c}\naput{6}
 \ncarc{a}{s}\naput{5}
\ncline{b}{e}\naput{20}
 \ncarc{c}{s}\naput{4}
 \ncarc{c}{f}\naput{1}
\ncline{d}{a}\nbput{4}
\ncline{d}{e}\naput{2}
 \ncarc{d}{g}\naput{1}
\ncline{e}{a}\nbput{1}
\ncline{e}{f}\naput{6}
 \ncarc{e}{g}\naput{9}
 \ncarc{f}{c}\naput{4}
 \ncarc{g}{d}\naput{4}
 \ncarc{g}{e}\naput{1}
 \ncarc{g}{t}\naput{7}
\ncline{t}{f}\naput{4}
\ncarc{t}{g}\naput{5}
\hspace{1cm}$s \xrightarrow{1} b \xrightarrow{20} e \xrightarrow{9} g \xrightarrow{7} t; \min: 1$
\end{center}
\begin{center}
\begin{psmatrix}[]
              & [name=a] $a$ & [name=d] $d$ \\
 [name=s] $s$ & [name=b] $b$ & [name=e] $e$ & [name=g] $g$ \\
              & [name=c] $c$ & [name=f] $f$ & [name=t] $t$
\end{psmatrix}
 \ncarc{s}{a}\naput{1}
 \ncarc{s}{c}\naput{6}
 \ncarc{a}{s}\naput{5}
\ncline{b}{s}\nbput{1}
 \ncarc{b}{e}\naput{19}
 \ncarc{c}{s}\naput{4}
 \ncarc{c}{f}\naput{1}
\ncline{d}{a}\nbput{4}
\ncline{d}{e}\naput{2}
 \ncarc{d}{g}\naput{1}
\ncline{e}{a}\nbput{1}
 \ncarc{e}{b}\naput{1}
\ncline{e}{f}\naput{6}
 \ncarc{e}{g}\naput{8}
 \ncarc{f}{c}\naput{4}
 \ncarc{g}{d}\naput{4}
 \ncarc{g}{e}\naput{2}
 \ncarc{g}{t}\naput{6}
\ncline{t}{f}\naput{4}
 \ncarc{t}{g}\naput{6}
\hspace{1cm}Kein Pfad von $s$ zu $t$ mehr möglich $\Rightarrow$ Stopp.
\end{center}
Minimum-$s$-$t$-Schnitt:\[C = (A, B)\text{ mit $A = \{s,a,c,f\}$, $B = \{b,d,e,g,t\}$}\]
Maximaler Fluss $f$ ($C(f) = 10$)
\begin{center}
\begin{psmatrix}[]
              & [name=a] $a$ & [name=d] $d$ \\
 [name=s] $s$ & [name=b] $b$ & [name=e] $e$ & [name=g] $g$ \\
              & [name=c] $c$ & [name=f] $f$ & [name=t] $t$
\end{psmatrix}
\ncline{s}{a}\naput{5}
\ncline{s}{b}\naput{1}
\ncline{s}{c}\naput{4}
\ncline{a}{d}\naput{4}
\ncline{a}{e}\naput{1}
\ncline{b}{e}\naput{1}
\ncline{c}{f}\naput{4}
\ncline{e}{d}\naput{2}
\ncline{d}{g}\naput{4}
\ncline{f}{e}\naput{6}
\ncline{f}{t}\naput{4}
\ncline{e}{g}\naput{2}
\ncline{g}{t}\naput{6}
\end{center}



\section{Flüsse, Paarungen, Knotenüberdeckungen}
\begin{enumerate}
\item
\item
\item
\end{enumerate}

\section{Kantenzusammenhang}
Damit wir überhaupt Flüsse in G finden können, muss dieser in einen gerichteten Graphen umgewandelt werden. Dafür ersetzen wir jede (ungerichtete) Kante durch zwei gerichtete Kanten, die die benachbarten Knoten miteinander verbinden. Die Kanten erhalten dabei ein Gewicht von 1. So ist die Kapazität eines Flusses gleichzeitig die minimale Anzahl an Kanten in diesem Fluss. Ebenso kann jede Kante nur einmal verwendet werden, sodass jeder Knoten des Flusses genauso viele eingehende wie ausgehende Kanten hat. Nach Berechnen des maximalen Flusses kann man dessen Kapazität anhand der Anzahl der eingehenden Kanten am Zielknoten direkt bestimmen. Die Kapazität eines maximalen Flusses ist also die maximale Anzahl der Pfade zwischen zwei Knoten, die keine gleichen Kanten verwenden.
Um diese beiden Knoten zusammenhangslos zu machen, muss man mindestens so viele Kanten entfernen, wie die Kapazität des maximalen Flusses zwischen diesen beiden Knoten.

Die Zusammenhangskomponente ist das Minimum aller maximalen Flüsse in dem Graph. Dies sind jedoch $O(|V|^2)$ viele.
Es reicht jedoch aus, sich einen beliebiegen Knoten fest zu wählen und den maximalen Fluss zu jedem anderen Knoten zu bestimmen. Denn dabei findet man einen maximalen Fluss mit minimaler Kapazität. Der maximale Fluss minimaler Kapazität ist durch eine minimale "Verjüngung" im Graphen bestimmt, die den Graph in zwei Teilgraphen unterteilt. Diese Verjüngung bestimmt auch die Zusammenhangskomponente. Der fest gewählte Startknoten liegt nun in einem der beiden Teilgraphen. Da man jeden anderen Knoten einmal als Zielknoten wählt, ist irgendwann ein Knoten aus dem anderen Teilgraph der Zielknoten. Der Fluss zwischen diesen beiden Knoten hat genau die Kapazität wie die Anzahl an Kanten in der Verjüngung. Ist dies nicht der Fall, so ist der Fluss entweder nicht maximal oder er verläuft durch eine schmalere Verjüngung. Beides ist ein Wiederspruch zu den Annahmen, dass der Fluss maximal ist und die Verjüngung die minimalste Verjüngung ist.

Somit kann man einen maximalen Fluss minimaler Kapazität in $O(|V|)$ Netzen finden.
\end{document}